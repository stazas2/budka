<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Конфигуратор</title>
    <link rel="stylesheet" href="configurator.css" />
    <script src="configurator.js" defer></script>
  </head>
  <body>
    <div class="container">
      <!-- Tabs header -->
      <div class="tabs">
        <button class="tab-button active" data-tab="tab1">AI Обработка</button>
        <button class="tab-button" data-tab="tab2">Интерфейс</button>
        <button class="tab-button" data-tab="tab3">Брендирование</button>
        <button class="tab-button" data-tab="tab4">Печать</button>
        <button class="tab-button" data-tab="tab5">Камера</button>
        <button class="tab-button" data-tab="tab6">Сбор данных</button>
      </div>
      <!-- Tabs content -->
      <div class="tab-contents">
        <div id="tab1" class="tab-content active">Содержимое вкладки 1</div>
        <div id="tab2" class="tab-content">
          <h2>Настройки интерфейса</h2>
          <div class="config-form">
            <div class="config-section">
              <h3>Основные настройки</h3>

              <div class="form-group">
                <label for="prePhotoTimer">Таймер перед фото (секунды):</label>
                <input
                  type="number"
                  id="prePhotoTimer"
                  min="1"
                  max="10"
                  value="3"
                />
              </div>

              <div class="form-group">
                <label for="inactivityTimeout"
                  >Таймаут неактивности (секунды):</label
                >
                <input
                  type="number"
                  id="inactivityTimeout"
                  min="10"
                  max="300"
                  value="60"
                />
              </div>
            </div>

            <div class="config-section">
              <h3>Настройки языка</h3>

              <div class="form-group">
                <label for="languageCurrent">Текущий язык:</label>
                <select id="languageCurrent">
                  <option value="ru">Русский</option>
                  <option value="kz">Қазақша</option>
                </select>
              </div>

              <div class="form-group toggle-group">
                <label for="showLanguageSwitcher"
                  >Показывать переключатель языка</label
                >
                <label class="toggle-switch">
                  <input type="checkbox" id="showLanguageSwitcher" />
                  <span class="toggle-slider"></span>
                </label>
              </div>
            </div>

            <div class="config-section">
              <h3>Элементы интерфейса</h3>

              <div class="form-group toggle-group">
                <label for="showResultQrBtn"
                  >Показывать кнопку QR-кода результата</label
                >
                <label class="toggle-switch">
                  <input type="checkbox" id="showResultQrBtn" />
                  <span class="toggle-slider"></span>
                </label>
              </div>

              <div class="form-group toggle-group">
                <label for="showStyleNames">Показывать названия стилей</label>
                <label class="toggle-switch">
                  <input type="checkbox" id="showStyleNames" />
                  <span class="toggle-slider"></span>
                </label>
              </div>

              <div class="form-group toggle-group">
                <label for="visibilityAgree"
                  >Запрашивать согласие на публикацию</label
                >
                <label class="toggle-switch">
                  <input type="checkbox" id="visibilityAgree" />
                  <span class="toggle-slider"></span>
                </label>
              </div>
            </div>

            <div class="config-section">
              <h3>Настройки выбора пола</h3>

              <div class="form-group toggle-group">
                <label for="allowMultipleGenderSelection"
                  >Разрешить выбор нескольких полов</label
                >
                <label class="toggle-switch">
                  <input type="checkbox" id="allowMultipleGenderSelection" />
                  <span class="toggle-slider"></span>
                </label>
              </div>

              <div class="form-group">
                <label class="gender-section-label"
                  >Доступные варианты пола:</label
                >

                <div class="gender-panels">
                  <!-- Adult genders panel -->
                  <div class="gender-panel">
                    <h4>Взрослые</h4>
                    <div class="gender-options">
                      <div class="checkbox-item toggle-group">
                        <label for="genderMale">Мужчина</label>
                        <label class="toggle-switch">
                          <input type="checkbox" id="genderMale" />
                          <span class="toggle-slider"></span>
                        </label>
                      </div>
                      <div class="checkbox-item toggle-group">
                        <label for="genderFemale">Женщина</label>
                        <label class="toggle-switch">
                          <input type="checkbox" id="genderFemale" />
                          <span class="toggle-slider"></span>
                        </label>
                      </div>
                    </div>
                  </div>

                  <!-- Children genders panel -->
                  <div class="gender-panel">
                    <h4>Дети</h4>
                    <div class="gender-options">
                      <div class="checkbox-item toggle-group">
                        <label for="genderBoy">Мальчик</label>
                        <label class="toggle-switch">
                          <input type="checkbox" id="genderBoy" />
                          <span class="toggle-slider"></span>
                        </label>
                      </div>
                      <div class="checkbox-item toggle-group">
                        <label for="genderGirl">Девочка</label>
                        <label class="toggle-switch">
                          <input type="checkbox" id="genderGirl" />
                          <span class="toggle-slider"></span>
                        </label>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="button-group">
              <button id="save-config" class="action-button">
                Сохранить настройки
              </button>
            </div>
          </div>
        </div>
        <div id="tab3" class="tab-content">
          <h2>Настройки брендирования</h2>
          <div class="config-form">
            <div class="config-section">
              <h3>Логотипы</h3>

              <div class="form-group">
                <label for="logoPath">Путь к основному логотипу:</label>
                <div class="file-input-group">
                  <input
                    type="text"
                    id="logoPath"
                    placeholder="Путь к файлу логотипа"
                  />
                  <button class="file-select-button" id="selectLogo">
                    Выбрать
                  </button>
                </div>
                <div class="image-preview" id="logoPathPreview"></div>
              </div>

              <div class="form-group">
                <label for="brandLogoPath">Путь к брендовому логотипу:</label>
                <div class="file-input-group">
                  <input
                    type="text"
                    id="brandLogoPath"
                    placeholder="Путь к файлу брендового логотипа"
                  />
                  <button class="file-select-button" id="selectBrandLogo">
                    Выбрать
                  </button>
                </div>
                <div class="image-preview" id="brandLogoPathPreview"></div>
              </div>
            </div>

            <div class="config-section">
              <h3>Размер и позиция</h3>

              <div class="form-group">
                <label for="logo_pos_x">Позиция логотипа X:</label>
                <input type="number" id="logo_pos_x" min="0" value="0" />
              </div>

              <div class="form-group">
                <label for="logo_pos_y">Позиция логотипа Y:</label>
                <input type="number" id="logo_pos_y" min="0" value="0" />
              </div>

              <div class="form-group">
                <label for="logo_scale">Масштаб логотипа:</label>
                <input
                  type="number"
                  id="logo_scale"
                  min="0.1"
                  max="5"
                  step="0.1"
                  value="1"
                />
              </div>

              <div class="form-group">
                <label for="mainLogoScale">Масштаб основного логотипа:</label>
                <input
                  type="number"
                  id="mainLogoScale"
                  min="0.1"
                  max="5"
                  step="0.1"
                  value="1"
                />
              </div>
            </div>

            <div class="config-section">
              <h3>Оформление и фон</h3>

              <div class="form-group">
                <label for="theme">Тема оформления:</label>
                <select id="theme">
                  <option value="dark">Темная</option>
                  <option value="light">Светлая</option>
                </select>
              </div>

              <div class="form-group">
                <label for="backdropBlur">Размытие фона:</label>
                <div class="range-input-group">
                  <input
                    type="range"
                    id="backdropBlurRange"
                    min="0"
                    max="100"
                    step="1"
                    value="50"
                  />
                  <input type="text" id="backdropBlur" value="50px" />
                </div>
              </div>

              <div class="form-group toggle-group">
                <label for="animationEnabled">Включить анимацию</label>
                <label class="toggle-switch">
                  <input type="checkbox" id="animationEnabled" />
                  <span class="toggle-slider"></span>
                </label>
              </div>

              <div class="form-group">
                <label for="animatedBackground"
                  >Анимированный фон (градиент):</label
                >

                <div id="gradientEditor" class="gradient-editor">
                  <div class="gradient-colors">
                    <!-- Initial color pickers will be added dynamically -->
                  </div>

                  <div class="gradient-controls">
                    <button
                      type="button"
                      id="addGradientColor"
                      class="small-button"
                    >
                      <i class="fas fa-plus"></i> Добавить цвет
                    </button>
                    <button
                      type="button"
                      id="removeGradientColor"
                      class="small-button"
                    >
                      <i class="fas fa-minus"></i> Удалить цвет
                    </button>
                  </div>

                  <div class="gradient-options">
                    <label>
                      <span>Направление:</span>
                      <select id="gradientDirection">
                        <option value="-45deg">Диагональ (↙↗)</option>
                        <option value="45deg">Диагональ (↖↘)</option>
                        <option value="0deg">Горизонтально (→)</option>
                        <option value="90deg">Вертикально (↓)</option>
                        <option value="180deg">Горизонтально (←)</option>
                        <option value="270deg">Вертикально (↑)</option>
                      </select>
                    </label>
                  </div>

                  <input
                    type="hidden"
                    id="animatedBackground"
                    value="linear-gradient(-45deg, #ed030c, #c5c4fa, #c4facd, #ab9aff)"
                  />
                  <div class="gradient-preview" id="gradientPreview"></div>
                </div>
              </div>
            </div>

            <div class="config-section">
              <h3>Настройки тем</h3>

              <div class="theme-panels">
                <!-- Light theme panel -->
                <div class="theme-panel">
                  <h4>Светлая тема</h4>
                  <div class="form-group">
                    <label for="lightBackgroundColor">Цвет фона:</label>
                    <div class="color-input-group">
                      <input
                        type="text"
                        id="lightBackgroundColor"
                        value="#ffebcd"
                      />
                      <input
                        type="color"
                        id="lightBackgroundColorPicker"
                        value="#ffebcd"
                      />
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="lightBackgroundImage"
                      >Фоновое изображение:</label
                    >
                    <div class="file-input-group">
                      <input
                        type="text"
                        id="lightBackgroundImage"
                        value="ffon.jpg"
                      />
                      <button
                        class="file-select-button"
                        id="selectLightBgImage"
                      >
                        Выбрать
                      </button>
                    </div>
                    <div
                      class="image-preview"
                      id="lightBackgroundImagePreview"
                    ></div>
                  </div>
                  <div class="form-group">
                    <label for="lightTextColor">Цвет текста:</label>
                    <div class="color-input-group">
                      <input type="text" id="lightTextColor" value="#000000" />
                      <input
                        type="color"
                        id="lightTextColorPicker"
                        value="#000000"
                      />
                    </div>
                  </div>
                </div>

                <!-- Dark theme panel -->
                <div class="theme-panel">
                  <h4>Темная тема</h4>
                  <div class="form-group">
                    <label for="darkBackgroundColor">Цвет фона:</label>
                    <div class="color-input-group">
                      <input
                        type="text"
                        id="darkBackgroundColor"
                        value="#000000"
                      />
                      <input
                        type="color"
                        id="darkBackgroundColorPicker"
                        value="#000000"
                      />
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="darkBackgroundImage"
                      >Фоновое изображение:</label
                    >
                    <div class="file-input-group">
                      <input type="text" id="darkBackgroundImage" value="" />
                      <button class="file-select-button" id="selectDarkBgImage">
                        Выбрать
                      </button>
                    </div>
                    <div
                      class="image-preview"
                      id="darkBackgroundImagePreview"
                    ></div>
                  </div>
                  <div class="form-group">
                    <label for="darkTextColor">Цвет текста:</label>
                    <div class="color-input-group">
                      <input type="text" id="darkTextColor" value="#ffffff" />
                      <input
                        type="color"
                        id="darkTextColorPicker"
                        value="#ffffff"
                      />
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="button-group">
              <button id="save-branding-config" class="action-button">
                Сохранить настройки
              </button>
            </div>
          </div>
        </div>
        <div id="tab4" class="tab-content">
          <h2>Настройки печати</h2>
          <div class="config-form">
            <div class="config-section">
              <h3>Основные настройки печати</h3>

              <div class="form-group">
                <label for="defaultPrinter">Принтер:</label>
                <select id="defaultPrinter">
                  <option value="">Принтер по умолчанию</option>
                  <!-- Printer options will be populated dynamically -->
                </select>
              </div>

              <div class="form-group toggle-group">
                <label for="borderPrintImage"
                  >Добавить рамку к печатаемому изображению</label
                >
                <label class="toggle-switch">
                  <input type="checkbox" id="borderPrintImage" />
                  <span class="toggle-slider"></span>
                </label>
              </div>

              <div class="form-group toggle-group">
                <label for="printButtonVisible">Показывать кнопку печати</label>
                <label class="toggle-switch">
                  <input type="checkbox" id="printButtonVisible" />
                  <span class="toggle-slider"></span>
                </label>
              </div>

              <div class="form-group">
                <label for="orientation">Ориентация печати:</label>
                <select id="orientation">
                  <option value="">Автоматически</option>
                  <option value="portrait">Портретная</option>
                  <option value="landscape">Альбомная</option>
                </select>
              </div>
            </div>

            <div class="config-section">
              <h3>Размер бумаги (мм)</h3>

              <div class="form-group">
                <label for="paperSizeWidth">Ширина (мм):</label>
                <input
                  type="number"
                  id="paperSizeWidth"
                  min="10"
                  max="1000"
                  value="105"
                />
              </div>

              <div class="form-group">
                <label for="paperSizeHeight">Высота (мм):</label>
                <input
                  type="number"
                  id="paperSizeHeight"
                  min="10"
                  max="1000"
                  value="148"
                />
              </div>
            </div>

            <div class="config-section">
              <h3>Настройки горячей папки</h3>

              <div class="form-group toggle-group">
                <label for="hotFolderEnabled">Включить горячую папку</label>
                <label class="toggle-switch">
                  <input type="checkbox" id="hotFolderEnabled" />
                  <span class="toggle-slider"></span>
                </label>
              </div>

              <div class="form-group">
                <label for="hotFolderPath">Путь к горячей папке:</label>
                <div class="file-input-group">
                  <input
                    type="text"
                    id="hotFolderPath"
                    placeholder="C:\путь\к\папке"
                  />
                  <button class="file-select-button" id="selectHotFolder">
                    Выбрать
                  </button>
                </div>
              </div>
            </div>

            <div class="button-group">
              <button id="save-print-config" class="action-button">
                Сохранить настройки
              </button>
            </div>
          </div>
        </div>
        <div id="tab5" class="tab-content">
          <h2>Настройки камеры</h2>
          <div class="config-form">
            <div class="config-section">
              <h3>Режим камеры</h3>

              <div class="form-group">
                <label for="cameraMode">Режим работы камеры:</label>
                <select id="cameraMode">
                  <option value="pc">Веб-камера ПК</option>
                  <option value="canon">Canon DSLR</option>
                </select>
              </div>

              <div class="form-group">
                <label for="camera_rotation"
                  >Поворот изображения с камеры (градусы):</label
                >
                <select id="camera_rotation">
                  <option value="0">0°</option>
                  <option value="90">90°</option>
                  <option value="180">180°</option>
                  <option value="270">270°</option>
                </select>
              </div>
            </div>

            <!-- Camera Preview Section -->
            <div class="config-section">
              <h3>Предварительный просмотр камеры</h3>
              <p class="info-text">
                Предварительный просмотр доступен только для веб-камеры (PC
                режим)
              </p>
              <div class="camera-preview-container">
                <div id="camera-preview-wrapper">
                  <div id="camera-loading" class="camera-loading">
                    <div class="spinner"></div>
                    <p>Загрузка камеры...</p>
                  </div>
                  <video id="camera-preview" autoplay playsinline></video>
                  <img
                    id="canon-preview"
                    style="display: none"
                    alt="Canon Preview"
                  />
                </div>
                <div class="camera-controls">
                  <button id="start-camera" class="camera-button">
                    Запустить камеру
                  </button>
                  <button id="stop-camera" class="camera-button" disabled>
                    Остановить камеру
                  </button>
                  <button id="refresh-camera" class="camera-button">
                    Обновить
                  </button>
                </div>
              </div>
            </div>

            <!-- Canon-specific settings section -->
            <div
              id="canon-settings"
              class="config-section"
              style="display: none"
            >
              <h3>Настройки Canon DSLR</h3>

              <div class="form-group">
                <label for="canonIso">ISO:</label>
                <select id="canonIso">
                  <option value="100">100</option>
                  <option value="200">200</option>
                  <option value="400">400</option>
                  <option value="800">800</option>
                  <option value="1600">1600</option>
                  <option value="3200">3200</option>
                </select>
              </div>

              <div class="form-group">
                <label for="canonTv">Выдержка (Tv):</label>
                <select id="canonTv">
                  <option value="1/30">1/30</option>
                  <option value="1/60">1/60</option>
                  <option value="1/125">1/125</option>
                  <option value="1/250">1/250</option>
                </select>
              </div>

              <div class="form-group">
                <label for="canonAv">Диафрагма (Av):</label>
                <select id="canonAv">
                  <option value="3.5">f/3.5</option>
                  <option value="4.0">f/4.0</option>
                  <option value="5.6">f/5.6</option>
                  <option value="8.0">f/8.0</option>
                  <option value="11.0">f/11.0</option>
                </select>
              </div>

              <div class="form-group">
                <label for="canonWb">Баланс белого:</label>
                <select id="canonWb">
                  <option value="auto">Авто</option>
                  <option value="daylight">Дневной свет</option>
                  <option value="shade">Тень</option>
                  <option value="cloudy">Облачно</option>
                  <option value="tungsten">Лампа накаливания</option>
                  <option value="fluorescent">Флуоресцентная лампа</option>
                  <option value="flash">Вспышка</option>
                </select>
              </div>

              <div class="form-group">
                <label for="canonPictureStyle">Стиль изображения:</label>
                <select id="canonPictureStyle">
                  <option value="standard">Стандартный</option>
                  <option value="portrait">Портрет</option>
                  <option value="landscape">Пейзаж</option>
                  <option value="neutral">Нейтральный</option>
                  <option value="faithful">Точный</option>
                  <option value="monochrome">Монохромный</option>
                </select>
              </div>

              <p class="info-text">
                Для более детальной настройки параметров камеры воспользуйтесь
                утилитой Canon в папке utils/canon.
              </p>
            </div>

            <div class="button-group">
              <button id="save-camera-config" class="action-button">
                Сохранить настройки камеры
              </button>
            </div>
          </div>
        </div>
        <div id="tab6" class="tab-content">Содержимое вкладки 6</div>
      </div>
      <button id="open-photobooth" class="action-button">
        Открыть фотобудку
      </button>
    </div>
  </body>
</html>
